:host {
    position: relative;
    --apple-button-animation: 1s forwards ease;
    --button-width: 14rem;

    display: flex;
    align-items: center;
    position: relative;
    height: 2.625rem;
    width: 2.625rem;
    color: white;
    transition: width .35s ease;
    align-self: center;
    font-size: 1.1rem;
    line-height: 1.2;

    .background {
        position: absolute;
        background-color: color-mix(in srgb, var(--red) 75%, #000000);
        border-radius: 1.3125rem;
        height: 100%;
        width: 100%;
        transform: scale(0);
        transition: transform .5s;
        transition-delay: .4s;
    }

    a {
        position: relative;
        display: flex;
        align-items: center;
        gap: 1rem;
        height: 100%;
        width: 100%;
        justify-content: right;

        text-decoration: none;
        color: inherit;

        span {
            flex: 1;
            padding-left: 1.25rem;
            font-weight: 500;
            overflow: hidden;
            white-space: nowrap;
        }

        .circle {
            position: relative;
            height: 100%;
            min-height: 0;
            aspect-ratio: 1;
            background-color: var(--red);
            border-radius: 100%;
            box-sizing: border-box;
            padding: .5rem;
            flex-shrink: 0;
            transform: scale(0);
            transition: transform .4s cubic-bezier(0.4, -3, 0.8, 1);
            transition-delay: .4s;
            display: flex;
            justify-content: center;
            align-items: center;

            &::after {
                content: '';
                position: relative;
                transform: scale(0);
                transition: transform .1s cubic-bezier(0.4, 0, 0.8, 1);
                transition-delay: .6s;
                background-color: white;
                mask-image: url(/carousel-arrow.svg);
                mask-position: center;
                mask-size: contain;
                height: 100%;
                width: 100%;
                mask-position-x: 2px;
                -webkit-mask-position-x: 2px;
            }

            svg {
                position: absolute;
                inset: .5rem;
                transform: scale(0);
                transition: transform .1s cubic-bezier(0.4, 0, 0.8, 1);
                ;
                transition-delay: .6s;
            }
        }
    }
}

:host(.active) {
    width: var(--button-width);
    transition-delay: .6s;

    .background {
        transform: scale(1);
        transition: transform .5s;
    }

    .circle {
        transform: scale(.85);
        transition: transform .4s cubic-bezier(0.4, 3.5, 0.8, 1);

        &::after {
            transform: scale(1);
            transition: transform .1s ease-in;
        }
    }
}

:host(.long) {
    --button-width: 18rem;
}

:host(.extra-long) {
    --button-width: 24rem;
}